<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Free AI chat interface powered by OpenRouter's free models. Compare responses from two AI models side-by-side."
    />
    <title>AI Chat Comparator</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¤–</text></svg>" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <!-- API Key Setup Modal -->
    <div id="api-key-modal" class="modal">
      <div class="modal-content">
        <h2>ğŸ”‘ OpenRouter API Key Required</h2>
        <p>To use this chat interface, you need an OpenRouter API key.</p>
        <ol>
          <li>
            Visit
            <a href="https://openrouter.ai/" target="_blank" rel="noopener"
              >OpenRouter.ai</a
            >
          </li>
          <li>Sign up for a free account</li>
          <li>Generate an API key from your dashboard</li>
          <li>Paste it below</li>
        </ol>
        <input type="password" id="api-key-input" placeholder="sk-or-v1-..." />
        <button id="save-api-key-btn" class="primary-btn">Save API Key</button>
      </div>
    </div>

    <!-- Main Container -->
    <div class="app-container">
      <!-- Mobile Sidebar Overlay -->
      <div id="sidebar-overlay" class="sidebar-overlay"></div>

      <!-- Left Sidebar - Conversation History -->
      <aside id="sidebar" class="sidebar">
        <div class="sidebar-header">
          <h1>ğŸ’¬ Conversations</h1>
          <div style="display: flex; gap: 0.5rem; align-items: center;">
            <button
              id="new-conversation-btn"
              class="icon-btn"
              title="New Conversation"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
            </button>
            <button
              id="sidebar-close-btn"
              class="sidebar-close-btn"
              title="Close Menu"
            >
              <svg
                width="20"
                height="20"
                viewBox="0 0 24 24"
                fill="none"
                stroke="currentColor"
                stroke-width="2"
              >
                <line x1="18" y1="6" x2="6" y2="18"></line>
                <line x1="6" y1="6" x2="18" y2="18"></line>
              </svg>
            </button>
          </div>
        </div>
        <div id="conversations-list" class="conversations-list">
          <!-- Conversations will be dynamically loaded here -->
        </div>
      </aside>

      <!-- Main Chat Area -->
      <main class="chat-container">
        <!-- Header with Controls and Model Selectors -->
        <header class="chat-header">
          <!-- Mobile Menu Toggle -->
          <button id="mobile-menu-toggle" class="mobile-menu-toggle" title="Chat History" onclick="document.getElementById('sidebar').classList.add('open'); document.getElementById('sidebar-overlay').classList.add('active'); document.body.style.overflow='hidden';">
            ğŸ’¬
          </button>
          
          <!-- Controls Bar -->
          <div class="controls-bar">
            <!-- Chat Mode Toggle -->
            <div class="control-group">
              <label class="control-label">Mode:</label>
              <div class="toggle-buttons" id="chat-mode-toggle">
                <button class="toggle-btn active" data-mode="single" title="Single Model Chat">
                  ğŸ’¬ Single
                </button>
                <button class="toggle-btn" data-mode="compare" title="Compare Two Models">
                  âš–ï¸ Compare
                </button>
              </div>
            </div>
            
            <!-- Model Filter -->
            <div class="control-group">
              <label class="control-label">Models:</label>
              <div class="toggle-buttons" id="model-filter-toggle">
                <button class="toggle-btn active" data-filter="free" title="Free Models Only">
                  ğŸ†“ Free
                </button>
                <button class="toggle-btn" data-filter="paid" title="Paid Models Only">
                  ğŸ’ Paid
                </button>
                <button class="toggle-btn" data-filter="all" title="All Models">
                  ğŸ“‹ All
                </button>
              </div>
            </div>
          </div>
          
          <!-- Single Model Selector (for single mode) -->
          <div class="single-model-selector" id="single-model-selector">
            <div class="model-selector-container">
              <label for="model-selector-single">ğŸ¤– Model:</label>
              <div class="searchable-dropdown" id="dropdown-single">
                <input type="text" id="model-selector-single" class="dropdown-input" placeholder="Search models..." autocomplete="off">
                <button type="button" class="dropdown-arrow" aria-label="Open dropdown">â–¼</button>
                <div class="dropdown-list" id="dropdown-list-single"></div>
              </div>
            </div>
          </div>
          
          <!-- Dual Model Selectors (for compare mode) -->
          <div class="dual-model-selectors" id="dual-model-selectors" style="display: none;">
            <div class="model-selector-container model-a">
              <label for="model-selector-a">ğŸ…°ï¸ Model A:</label>
              <div class="searchable-dropdown" id="dropdown-a">
                <input type="text" id="model-selector-a" class="dropdown-input" placeholder="Search models..." autocomplete="off">
                <button type="button" class="dropdown-arrow" aria-label="Open dropdown">â–¼</button>
                <div class="dropdown-list" id="dropdown-list-a"></div>
              </div>
            </div>
            <div class="vs-divider">VS</div>
            <div class="model-selector-container model-b">
              <label for="model-selector-b">ğŸ…±ï¸ Model B:</label>
              <div class="searchable-dropdown" id="dropdown-b">
                <input type="text" id="model-selector-b" class="dropdown-input" placeholder="Search models..." autocomplete="off">
                <button type="button" class="dropdown-arrow" aria-label="Open dropdown">â–¼</button>
                <div class="dropdown-list" id="dropdown-list-b"></div>
              </div>
            </div>
          </div>
          
          <div class="header-actions">
            <button id="settings-btn" class="icon-btn" title="API Key Settings">
              ğŸ”‘
            </button>
          </div>
        </header>

        <!-- Single Chat Container (for single mode) -->
        <div class="single-chat-container" id="single-chat-container">
          <div id="messages-container-single" class="messages-container">
            <div class="welcome-screen">
              <h2>Welcome to OpenRouter AI Chat! ğŸš€</h2>
              <p>Select a model above and start chatting with AI.</p>
              <div class="feature-grid">
                <div class="feature-card">
                  <span class="feature-icon">ğŸ¤–</span>
                  <h3>Multiple Models</h3>
                  <p>Access free and paid AI models</p>
                </div>
                <div class="feature-card">
                  <span class="feature-icon">ğŸ’¾</span>
                  <h3>Save History</h3>
                  <p>All chats saved locally</p>
                </div>
                <div class="feature-card">
                  <span class="feature-icon">âš¡</span>
                  <h3>Fast & Simple</h3>
                  <p>Clean interface, no signup</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Comparison Container - Split Screen (for compare mode) -->
        <div class="comparison-container" id="comparison-container" style="display: none;">
          <!-- Mobile Panel Toggle (visible only on mobile) -->
          <div class="mobile-panel-toggle" id="mobile-panel-toggle">
            <button class="panel-tab active" data-panel="A">ğŸ…°ï¸ Model A</button>
            <button class="panel-tab" data-panel="B">ğŸ…±ï¸ Model B</button>
          </div>
          
          <!-- Panel A -->
          <div class="comparison-panel panel-a">
            <div class="panel-header">
              <span class="panel-label">ğŸ…°ï¸ Model A</span>
              <span id="panel-a-model-name" class="panel-model-name">Select a model</span>
            </div>
            <div id="messages-container-a" class="messages-container">
              <div class="welcome-screen">
                <h2>Compare AI Models! ğŸ”„</h2>
                <p>Select two models above and start chatting to compare their responses side-by-side.</p>
                <div class="feature-grid">
                  <div class="feature-card">
                    <span class="feature-icon">âš–ï¸</span>
                    <h3>Side-by-Side</h3>
                    <p>Compare responses in real-time</p>
                  </div>
                  <div class="feature-card">
                    <span class="feature-icon">ğŸš€</span>
                    <h3>Parallel Requests</h3>
                    <p>Both models respond simultaneously</p>
                  </div>
                  <div class="feature-card">
                    <span class="feature-icon">ğŸ’¾</span>
                    <h3>Save History</h3>
                    <p>All comparisons saved locally</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
          
          <!-- Panel Divider -->
          <div class="panel-divider"></div>
          
          <!-- Panel B -->
          <div class="comparison-panel panel-b">
            <div class="panel-header">
              <span class="panel-label">ğŸ…±ï¸ Model B</span>
              <span id="panel-b-model-name" class="panel-model-name">Select a model</span>
            </div>
            <div id="messages-container-b" class="messages-container">
              <div class="welcome-screen">
                <h2>Ready to Compare! âš¡</h2>
                <p>Type a message below to see how different AI models respond.</p>
                <div class="feature-grid">
                  <div class="feature-card">
                    <span class="feature-icon">ğŸ¤–</span>
                    <h3>Free Models</h3>
                    <p>Access all OpenRouter free models</p>
                  </div>
                  <div class="feature-card">
                    <span class="feature-icon">ğŸ¯</span>
                    <h3>Find the Best</h3>
                    <p>Discover which model suits your needs</p>
                  </div>
                  <div class="feature-card">
                    <span class="feature-icon">âš¡</span>
                    <h3>Fast & Simple</h3>
                    <p>Clean interface, no signup required</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Input Area -->
        <div class="input-container">
          <textarea
            id="message-input"
            placeholder="Write your message here..."
            rows="1"
          ></textarea>
          <button id="send-btn" class="send-btn" title="Send Message">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
            >
              <line x1="22" y1="2" x2="11" y2="13"></line>
              <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
            </svg>
          </button>
        </div>
      </main>
    </div>

    <script src="app.js"></script>
  </body>
</html>
